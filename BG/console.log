SLF4J(W): Class path contains multiple SLF4J providers.
SLF4J(W): Found provider [ch.qos.logback.classic.spi.LogbackServiceProvider@15b3e5b]
SLF4J(W): Found provider [org.slf4j.simple.SimpleServiceProvider@61ca2dfa]
SLF4J(W): See https://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J(I): Actual provider is of type [ch.qos.logback.classic.spi.LogbackServiceProvider@15b3e5b]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.5)

2025-07-07T14:45:13.151+08:00  INFO 2620 --- [BG] [           main] com.example.bg.BgApplication             : Starting BgApplication v0.0.1-SNAPSHOT using Java 17.0.8 with PID 2620 (E:\ComputerDesignCompetition\YunZhou_Rhymes\BG\target\BG-0.0.1-SNAPSHOT.jar started by WHUzjy in E:\ComputerDesignCompetition\YunZhou_Rhymes\BG)
2025-07-07T14:45:13.155+08:00  INFO 2620 --- [BG] [           main] com.example.bg.BgApplication             : No active profile set, falling back to 1 default profile: "default"
2025-07-07T14:45:15.047+08:00  INFO 2620 --- [BG] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-07T14:45:15.062+08:00  INFO 2620 --- [BG] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-07T14:45:15.123+08:00  INFO 2620 --- [BG] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-07-07T14:45:15.797+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'shiroConfig' of type [com.example.bg.config.ShiroConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.060+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.sql.init.DataSourceInitializationConfiguration' of type [org.springframework.boot.autoconfigure.sql.init.DataSourceInitializationConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.062+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.090+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'securityManagerInjector' of type [org.springframework.beans.factory.config.MethodInvokingFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.152+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.156+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$PooledDataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.159+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'jdbcConnectionDetails' of type [org.springframework.boot.autoconfigure.jdbc.PropertiesJdbcConnectionDetails] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.220+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.230+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.sql.init-org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties' of type [org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.248+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSourceScriptDatabaseInitializer' of type [org.springframework.boot.autoconfigure.sql.init.SqlDataSourceScriptDatabaseInitializer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.261+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties' of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.268+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration' of type [org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.386+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionFactory' of type [org.apache.ibatis.session.defaults.DefaultSqlSessionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.398+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionTemplate' of type [org.mybatis.spring.SqlSessionTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.864+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.868+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userMapper' of type [jdk.proxy2.$Proxy99] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.886+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'userRealm' of type [com.example.bg.config.UserRealm] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.903+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'redisManager' of type [org.crazycake.shiro.RedisManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.909+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'sessionDAO' of type [org.crazycake.shiro.RedisSessionDAO] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:16.928+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'sessionManager' of type [org.apache.shiro.web.session.mgt.DefaultWebSessionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:17.105+08:00  WARN 2620 --- [BG] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'securityManager' of type [org.apache.shiro.web.mgt.DefaultWebSecurityManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor []? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-07-07T14:45:17.991+08:00  INFO 2620 --- [BG] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-07T14:45:18.029+08:00  INFO 2620 --- [BG] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-07T14:45:18.030+08:00  INFO 2620 --- [BG] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-07-07T14:45:18.102+08:00  INFO 2620 --- [BG] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-07T14:45:18.102+08:00  INFO 2620 --- [BG] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4889 ms
刷新敏感词缓存失败: 
### Error querying database.  Cause: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
### The error may exist in com/example/bg/admin/SensitiveWordMapper.xml
### The error may involve com.example.bg.admin.SensitiveWordMapper.getActiveSensitiveWords
### The error occurred while executing a query
### Cause: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
### The error may exist in com/example/bg/admin/SensitiveWordMapper.xml
### The error may involve com.example.bg.admin.SensitiveWordMapper.getActiveSensitiveWords
### The error occurred while executing a query
### Cause: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy2/jdk.proxy2.$Proxy119.getActiveSensitiveWords(Unknown Source)
	at com.example.bg.admin.ContentReviewService.refreshSensitiveWordsCache(ContentReviewService.java:139)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:190)
	at org.apache.ibatis.datasource.unpooled.UnpooledDataSource.doGetConnection(UnpooledDataSource.java:224)
	at org.apache.ibatis.datasource.unpooled.UnpooledDataSource.doGetConnection(UnpooledDataSource.java:219)
	at org.apache.ibatis.datasource.unpooled.UnpooledDataSource.getConnection(UnpooledDataSource.java:95)
	at org.apache.ibatis.datasource.pooled.PooledDataSource.popConnection(PooledDataSource.java:432)
	at org.apache.ibatis.datasource.pooled.PooledDataSource.getConnection(PooledDataSource.java:89)
	at org.apache.ibatis.transaction.jdbc.JdbcTransaction.openConnection(JdbcTransaction.java:139)
	at org.apache.ibatis.transaction.jdbc.JdbcTransaction.getConnection(JdbcTransaction.java:61)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:89)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 13 more
2025-07-07T14:45:20.346+08:00  INFO 2620 --- [BG] [           main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-07-07T14:45:21.412+08:00  INFO 2620 --- [BG] [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-07-07T14:45:21.545+08:00  INFO 2620 --- [BG] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-07-07T14:45:21.561+08:00  INFO 2620 --- [BG] [           main] com.example.bg.BgApplication             : Started BgApplication in 9.164 seconds (process running for 10.032)
2025-07-07T14:45:26.335+08:00  INFO 2620 --- [BG] [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-07T14:45:26.335+08:00  INFO 2620 --- [BG] [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-07T14:45:26.337+08:00  INFO 2620 --- [BG] [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
WebSocket连接已建立，当前连接数：1
收到消息：{"type":"createRoom","room":{"uid":"1"}}
关联用户ID 1 到会话 58062c3c-b656-2871-963d-3e02208ad48b
收到消息：{"type":"joinRoom","room":{"roomId":"bz9WElo56OdEHoM6","uid":"2"}}
关联用户ID 2 到会话 58062c3c-b656-2871-963d-3e02208ad48b
直接发送房间更新给用户(uid=1)
直接发送房间更新给用户(uid=2)
广播消息: {"readyToStart":true,"playerCount":2,"uniqueUsers":[1,2],"joinedUserId":2,"isFull":true,"type":"room_update","roomId":"bz9WElo56OdEHoM6"}
发送房间已满通知给用户: 2
收到消息：{"type":"startGame","room":{"roomId":"bz9WElo56OdEHoM6","role1":"战士","role2":"法师"}}
房间 bz9WElo56OdEHoM6 初始化游戏成功，玩家1=1, 玩家2=2
收到消息：{"type":"RoundBegin","room":{"roomId":"bz9WElo56OdEHoM6","uid":"1"}}
关联用户ID 1 到会话 58062c3c-b656-2871-963d-3e02208ad48b
【RoundBegin同步】roomId=bz9WElo56OdEHoM6 round=0 已收到玩家 1 的回合开始信号。当前已收到: [1]
收到消息：{"type":"RoundBegin","room":{"roomId":"bz9WElo56OdEHoM6","uid":"2"}}
关联用户ID 2 到会话 58062c3c-b656-2871-963d-3e02208ad48b
【RoundBegin同步】roomId=bz9WElo56OdEHoM6 round=0 已收到玩家 2 的回合开始信号。当前已收到: [1, 2]
【RoundBegin同步】roomId=bz9WElo56OdEHoM6 round=0 两位玩家均已发信号，调用BeginService。
收到消息：{"type":"openCardGroups","room":{"uid":"1"}}
关联用户ID 1 到会话 58062c3c-b656-2871-963d-3e02208ad48b
【购买前】玩家ID: 1 金币: 5 手牌: []
【购买后】玩家ID: 1 金币: 0 手牌: [mountain(defense,num=2,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"1"}}
关联用户ID 1 到会话 58062c3c-b656-2871-963d-3e02208ad48b
【购买前】玩家ID: 1 金币: 0 手牌: [mountain(defense,num=2,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), water(defense,num=1,size=1)]
【购买后】玩家ID: 1 金币: 0 手牌: [mountain(defense,num=2,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":1,"card":"mountain","money":1}}
处理消息时发生错误：class java.lang.Integer cannot be cast to class java.lang.String (java.lang.Integer and java.lang.String are in module java.base of loader 'bootstrap')
java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.String (java.lang.Integer and java.lang.String are in module java.base of loader 'bootstrap')
	at com.example.bg.GameBG.Play.Service.MainService.handleTextMessage(MainService.java:72)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
收到消息：{"type":"discardCard","room":{"uid":1,"card":"mountain","money":0}}
处理消息时发生错误：class java.lang.Integer cannot be cast to class java.lang.String (java.lang.Integer and java.lang.String are in module java.base of loader 'bootstrap')
java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.String (java.lang.Integer and java.lang.String are in module java.base of loader 'bootstrap')
	at com.example.bg.GameBG.Play.Service.MainService.handleTextMessage(MainService.java:72)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
收到消息：{"type":"openCardGroups","room":{"uid":"2"}}
关联用户ID 2 到会话 58062c3c-b656-2871-963d-3e02208ad48b
【购买前】玩家ID: 2 金币: 5 手牌: []
【购买后】玩家ID: 2 金币: 0 手牌: [mountain(defense,num=2,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"bz9WElo56OdEHoM6","uid1":"1","cardList1":[]}}
处理消息时发生错误：Cannot parse null string
java.lang.NumberFormatException: Cannot parse null string
	at java.base/java.lang.Integer.parseInt(Integer.java:630)
	at java.base/java.lang.Integer.parseInt(Integer.java:786)
	at com.example.bg.GameBG.Play.Service.MainService.handleRoundEndMessage(MainService.java:557)
	at com.example.bg.GameBG.Play.Service.MainService.handleTextMessage(MainService.java:99)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
收到消息：{"type":"RoundEnd","room":{"roomId":"bz9WElo56OdEHoM6","uid1":"1","cardList1":["null","null","null"]}}
处理消息时发生错误：Cannot parse null string
java.lang.NumberFormatException: Cannot parse null string
	at java.base/java.lang.Integer.parseInt(Integer.java:630)
	at java.base/java.lang.Integer.parseInt(Integer.java:786)
	at com.example.bg.GameBG.Play.Service.MainService.handleRoundEndMessage(MainService.java:557)
	at com.example.bg.GameBG.Play.Service.MainService.handleTextMessage(MainService.java:99)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
收到消息：{"type":"RoundEnd","room":{"roomId":"bz9WElo56OdEHoM6","uid1":"1","cardList1":["cardName","cardName","cardName"]}}
处理消息时发生错误：Cannot parse null string
java.lang.NumberFormatException: Cannot parse null string
	at java.base/java.lang.Integer.parseInt(Integer.java:630)
	at java.base/java.lang.Integer.parseInt(Integer.java:786)
	at com.example.bg.GameBG.Play.Service.MainService.handleRoundEndMessage(MainService.java:557)
	at com.example.bg.GameBG.Play.Service.MainService.handleTextMessage(MainService.java:99)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
用户 1 的会话已关闭
WebSocket连接已关闭，当前连接数：0
WebSocket连接已建立，当前连接数：1
收到消息：{"type":"createRoom","room":{"uid":"1"}}
关联用户ID 1 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
收到消息：{"type":"joinRoom","room":{"roomId":"TbgmzlD34aKOdQHb","uid":"2"}}
关联用户ID 2 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
直接发送房间更新给用户(uid=1)
直接发送房间更新给用户(uid=2)
广播消息: {"readyToStart":true,"playerCount":2,"uniqueUsers":[1,2],"joinedUserId":2,"isFull":true,"type":"room_update","roomId":"TbgmzlD34aKOdQHb"}
发送房间已满通知给用户: 2
收到消息：{"type":"startGame","room":{"roomId":"TbgmzlD34aKOdQHb","role1":"战士","role2":"法师"}}
房间 TbgmzlD34aKOdQHb 已经初始化过游戏，跳过重复初始化
收到消息：{"type":"RoundBegin","room":{"roomId":"TbgmzlD34aKOdQHb","uid":"1"}}
关联用户ID 1 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
【RoundBegin同步】roomId=TbgmzlD34aKOdQHb round=0 已收到玩家 1 的回合开始信号。当前已收到: [1]
收到消息：{"type":"RoundBegin","room":{"roomId":"TbgmzlD34aKOdQHb","uid":"2"}}
关联用户ID 2 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
【RoundBegin同步】roomId=TbgmzlD34aKOdQHb round=0 已收到玩家 2 的回合开始信号。当前已收到: [1, 2]
【RoundBegin同步】roomId=TbgmzlD34aKOdQHb round=0 两位玩家均已发信号，调用BeginService。
收到消息：{"type":"openCardGroups","room":{"uid":"1"}}
关联用户ID 1 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
【购买前】玩家ID: 1 金币: 5 手牌: [mountain(defense,num=2,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), water(defense,num=1,size=1)]
【购买后】玩家ID: 1 金币: 0 手牌: [mountain(defense,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=3,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"1"}}
关联用户ID 1 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
【购买前】玩家ID: 1 金币: 0 手牌: [mountain(defense,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=3,size=1), water(defense,num=1,size=1)]
【购买后】玩家ID: 1 金币: 0 手牌: [mountain(defense,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=3,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"2"}}
关联用户ID 2 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
【购买前】玩家ID: 2 金币: 5 手牌: [mountain(defense,num=2,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1)]
【购买后】玩家ID: 2 金币: 0 手牌: [mountain(defense,num=5,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"testRoom123","uid":"1","cardList1":["fire","water","cardName"]}}
关联用户ID 1 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
收到消息：{"type":"RoundEnd","room":{"roomId":"TbgmzlD34aKOdQHb","uid":"1","cardList1":["fire","water","cardName"]}}
关联用户ID 1 到会话 1f8d20ca-47df-d272-20d4-c73f352febd8
【回合结束前】
Room: TbgmzlD34aKOdQHb Round: 0
玩家1（uid=1）: hp=20/20 shield=10/10 wealthy=0 role=战士 cards=[mountain(defense,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=3,size=1), water(defense,num=1,size=1)]
玩家2（uid=2）: hp=20/20 shield=10/10 wealthy=0 role=法师 cards=[mountain(defense,num=5,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=1,size=1)]
用户 1 的会话已关闭
WebSocket连接已关闭，当前连接数：0
WebSocket连接已建立，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"createRoom","room":{"uid":"4431"}}
关联用户ID 4431 到会话 b573c01a-261c-31cc-97ee-45f71b646594
收到消息：{"type":"joinRoom","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4431"}}
关联用户ID 4431 到会话 b573c01a-261c-31cc-97ee-45f71b646594
直接发送房间更新给用户(uid=4431)
广播消息: {"readyToStart":false,"playerCount":1,"uniqueUsers":[4431],"joinedUserId":4431,"isFull":false,"type":"room_update","roomId":"eGZfmYuYiU8CS9kj"}
收到消息：{"type":"joinRoom","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153"}}
关联用户ID 4153 到会话 bd9b534d-4c60-5c82-e93b-ba0576a92cbb
直接发送房间更新给用户(uid=4153)
直接发送房间更新给用户(uid=4431)
广播消息: {"readyToStart":true,"playerCount":2,"uniqueUsers":[4153,4431],"joinedUserId":4153,"isFull":true,"type":"room_update","roomId":"eGZfmYuYiU8CS9kj"}
收到消息：{"type":"startGame","room":{"roomId":"eGZfmYuYiU8CS9kj","role1":"libai","role2":"libai","uid":"4431"}}
关联用户ID 4431 到会话 b573c01a-261c-31cc-97ee-45f71b646594
发送房间已满通知给用户: 4153
房间 eGZfmYuYiU8CS9kj 初始化游戏成功，玩家1=4431, 玩家2=4153
收到消息：{"type":"startGame","room":{"roomId":"eGZfmYuYiU8CS9kj","role1":"libai","role2":"libai","uid":"4153"}}
关联用户ID 4153 到会话 bd9b534d-4c60-5c82-e93b-ba0576a92cbb
房间 eGZfmYuYiU8CS9kj 已经初始化过游戏，跳过重复初始化
用户 4153 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
用户 4431 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"RoundBegin","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153"}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【RoundBegin同步】roomId=eGZfmYuYiU8CS9kj round=0 已收到玩家 4153 的回合开始信号。当前已收到: [4153]
收到消息：{"type":"RoundBegin","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4431"}}
关联用户ID 4431 到会话 c3827042-d373-68bc-0d36-80f44fffa466
【RoundBegin同步】roomId=eGZfmYuYiU8CS9kj round=0 已收到玩家 4431 的回合开始信号。当前已收到: [4153, 4431]
【RoundBegin同步】roomId=eGZfmYuYiU8CS9kj round=0 两位玩家均已发信号，调用BeginService。
收到消息：{"type":"openCardGroups","room":{"uid":"4153"}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【购买前】玩家ID: 4153 金币: 5 手牌: []
【购买后】玩家ID: 4153 金币: 0 手牌: [mountain(defense,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"4431"}}
关联用户ID 4431 到会话 c3827042-d373-68bc-0d36-80f44fffa466
【购买前】玩家ID: 4431 金币: 5 手牌: []
【购买后】玩家ID: 4431 金币: 0 手牌: [spring(profit,num=1,size=1), mountain(defense,num=2,size=1), bird(battle,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"4431","cardA":"spring","cardB":"water","cardC":"liu"}}
关联用户ID 4431 到会话 c3827042-d373-68bc-0d36-80f44fffa466
收到消息：{"type":"fetchall","room":{"roomId":"eGZfmYuYiU8CS9kj"}}
【fetchall】roomId=eGZfmYuYiU8CS9kj 玩家信息: [{uid=4431, hpMax=20, shield=10, role=libai, cards=[CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=0, hp=20, shieldMax=10}, {uid=4153, hpMax=20, shield=10, role=libai, cards=[CardBattle(cardType=defense, cardNum=3, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1)], wealthy=0, hp=20, shieldMax=10}]room 信息：Room(uid1=4431, uid2=4153, room=eGZfmYuYiU8CS9kj, roundNum=0)
收到消息：{"type":"fetchall","room":{"roomId":"eGZfmYuYiU8CS9kj"}}
【fetchall】roomId=eGZfmYuYiU8CS9kj 玩家信息: [{uid=4431, hpMax=20, shield=10, role=libai, cards=[CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=0, hp=20, shieldMax=10}, {uid=4153, hpMax=20, shield=10, role=libai, cards=[CardBattle(cardType=defense, cardNum=3, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1)], wealthy=0, hp=20, shieldMax=10}]room 信息：Room(uid1=4431, uid2=4153, room=eGZfmYuYiU8CS9kj, roundNum=0)
收到消息：{"type":"RoundEnd","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153","cardList1":["cardBack","mountain","cardBack"]}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【回合结束前】
Room: eGZfmYuYiU8CS9kj Round: 0
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[mountain(defense,num=2,size=1), bird(battle,num=1,size=1), liu(defense,num=1,size=2)]
玩家2（uid=4153）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[mountain(defense,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4431","cardList1":["bird","liu","cardBack"]}}
关联用户ID 4431 到会话 c3827042-d373-68bc-0d36-80f44fffa466
【回合结束前】
Room: eGZfmYuYiU8CS9kj Round: 0
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[mountain(defense,num=2,size=1), bird(battle,num=1,size=1), liu(defense,num=1,size=2)]
玩家2（uid=4153）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[mountain(defense,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1)]
handleRoundEndMessage's playerAgainst:
[bird, liu, cardBack]
[cardBack, mountain, cardBack]
PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=defense, cardNum=3, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=defense, cardNum=1, cardName=mountain, cardSize=1), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1)], wealthy=0, statusesEnd=[Status(name=liu_judge, consistTime=1, detail=null)], statusesBegin=[Status(name=liu_judge, consistTime=1, detail=null)], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=true, isUsedBattleCard=true, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1)], wealthy=3, statusesEnd=[Status(name=mountain_judge, consistTime=1, detail=null), Status(name=bird_judge, consistTime=1, detail=null)], statusesBegin=[Status(name=mountain_judge, consistTime=1, detail=null), Status(name=bird_judge, consistTime=1, detail=null)], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=true, isUsedDefenseCard=true, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=true, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=3, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[]
【回合结束后】
Room: eGZfmYuYiU8CS9kj Round: 0
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[mountain(defense,num=2,size=1)]
玩家2（uid=4153）: hp=20/20 shield=9/10 wealthy=3 role=libai cards=[mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"4153"}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【购买前】玩家ID: 4153 金币: 8 手牌: [mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1)]
【购买后】玩家ID: 4153 金币: 3 手牌: [spring(profit,num=1,size=1), mountain(defense,num=2,size=1), moon(decrease,num=3,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"4153","cardA":"moon","cardB":"moon","cardC":"home"}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
收到消息：{"type":"openCardGroups","room":{"uid":"4431"}}
关联用户ID 4431 到会话 c3827042-d373-68bc-0d36-80f44fffa466
【购买前】玩家ID: 4431 金币: 5 手牌: [mountain(defense,num=2,size=1)]
【购买后】玩家ID: 4431 金币: 0 手牌: [mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), water(defense,num=3,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"4431","cardA":"water","cardB":"mountain","cardC":"nature"}}
关联用户ID 4431 到会话 c3827042-d373-68bc-0d36-80f44fffa466
收到消息：{"type":"synthesize","room":{"uid":"4431","cardA":"water","cardB":"mountain","cardC":"nature"}}
关联用户ID 4431 到会话 c3827042-d373-68bc-0d36-80f44fffa466
用户 4431 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"RoundEnd","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153","cardList1":["cardBack","cardBack","home"]}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【回合结束前】
Room: eGZfmYuYiU8CS9kj Round: 1
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[moon(decrease,num=1,size=1), nature(defense,num=2,size=2), bird(battle,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=4153）: hp=20/20 shield=9/10 wealthy=3 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), home(profit,num=1,size=2)]
收到消息：{"type":"RoundEnd","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【回合结束前】
Room: eGZfmYuYiU8CS9kj Round: 1
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[moon(decrease,num=1,size=1), nature(defense,num=2,size=2), bird(battle,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=4153）: hp=20/20 shield=9/10 wealthy=3 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), home(profit,num=1,size=2)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, cardBack]
[cardBack, cardBack, home]
PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=nature, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=nature, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=nature, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=8, statusesEnd=[Status(name=home, consistTime=1, detail=null)], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=true, isRobbedHP=false, isAddedShield=true, isCured=true, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=2, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[Status(name=home, consistTime=1, detail=null)]
[]
home
【回合结束后】
Room: eGZfmYuYiU8CS9kj Round: 1
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=8 role=libai cards=[moon(decrease,num=1,size=1), nature(defense,num=2,size=2), bird(battle,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=4153）: hp=20/20 shield=9/10 wealthy=3 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), home(profit,num=1,size=2)]
收到消息：{"type":"RoundEnd","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【回合结束前】
Room: eGZfmYuYiU8CS9kj Round: 2
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=13 role=libai cards=[moon(decrease,num=1,size=1), nature(defense,num=2,size=2), bird(battle,num=1,size=1), liu(defense,num=1,size=2), water(defense,num=1,size=1)]
玩家2（uid=4153）: hp=20/20 shield=9/10 wealthy=8 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), home(profit,num=1,size=2)]
收到消息：{"type":"RoundEnd","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 4153 到会话 7fdf8854-f9c9-a262-b43b-7b932f6e6637
【回合结束前】
Room: eGZfmYuYiU8CS9kj Round: 2
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=13 role=libai cards=[moon(decrease,num=1,size=1), nature(defense,num=2,size=2), bird(battle,num=1,size=1), liu(defense,num=1,size=2), water(defense,num=1,size=1)]
玩家2（uid=4153）: hp=20/20 shield=9/10 wealthy=8 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), home(profit,num=1,size=2)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, cardBack]
[cardBack, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=nature, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=13, statusesEnd=[], statusesBegin=[Status(name=home, consistTime=1, detail=null)], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=nature, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=13, statusesEnd=[], statusesBegin=[Status(name=home, consistTime=1, detail=null)], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=nature, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=13, statusesEnd=[], statusesBegin=[Status(name=home, consistTime=1, detail=null)], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=eGZfmYuYiU8CS9kj, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=2, cardName=mountain, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[]
【回合结束后】
Room: eGZfmYuYiU8CS9kj Round: 2
玩家1（uid=4431）: hp=20/20 shield=10/10 wealthy=13 role=libai cards=[moon(decrease,num=1,size=1), nature(defense,num=2,size=2), bird(battle,num=1,size=1), liu(defense,num=1,size=2), water(defense,num=1,size=1)]
玩家2（uid=4153）: hp=20/20 shield=9/10 wealthy=8 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=2,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), home(profit,num=1,size=2)]
用户 4153 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"RoundBegin","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153"}}
关联用户ID 4153 到会话 18fc80ef-080f-0090-84ba-efce68fafc1e
【RoundBegin同步】roomId=eGZfmYuYiU8CS9kj round=3 已收到玩家 4153 的回合开始信号。当前已收到: [4153]
用户 4153 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"RoundBegin","room":{"roomId":"eGZfmYuYiU8CS9kj","uid":"4153"}}
关联用户ID 4153 到会话 a0f69da4-d801-9be6-dcdb-88cde5944940
【RoundBegin同步】roomId=eGZfmYuYiU8CS9kj round=3 已收到玩家 4153 的回合开始信号。当前已收到: [4153]
用户 4153 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"createRoom","room":{"uid":"1315"}}
关联用户ID 1315 到会话 c379c0e9-1393-bb78-3da2-a75bb104c75c
收到消息：{"type":"joinRoom","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315"}}
关联用户ID 1315 到会话 c379c0e9-1393-bb78-3da2-a75bb104c75c
直接发送房间更新给用户(uid=1315)
广播消息: {"readyToStart":false,"playerCount":1,"uniqueUsers":[1315],"joinedUserId":1315,"isFull":false,"type":"room_update","roomId":"RAB9M0QqrOnMcIL7"}
收到消息：{"type":"joinRoom","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315"}}
关联用户ID 1315 到会话 c379c0e9-1393-bb78-3da2-a75bb104c75c
直接发送房间更新给用户(uid=1315)
广播消息: {"readyToStart":false,"playerCount":1,"uniqueUsers":[1315],"joinedUserId":1315,"isFull":false,"type":"room_update","roomId":"RAB9M0QqrOnMcIL7"}
收到消息：{"type":"joinRoom","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"7669"}}
关联用户ID 7669 到会话 b6d0664b-a367-7693-4e70-7152c0fedbef
直接发送房间更新给用户(uid=1315)
直接发送房间更新给用户(uid=7669)
广播消息: {"readyToStart":true,"playerCount":2,"uniqueUsers":[1315,7669],"joinedUserId":7669,"isFull":true,"type":"room_update","roomId":"RAB9M0QqrOnMcIL7"}
收到消息：{"type":"startGame","room":{"roomId":"RAB9M0QqrOnMcIL7","role1":"libai","role2":"libai","uid":"1315"}}
发送房间已满通知给用户: 7669
关联用户ID 1315 到会话 c379c0e9-1393-bb78-3da2-a75bb104c75c
房间 RAB9M0QqrOnMcIL7 初始化游戏成功，玩家1=1315, 玩家2=7669
收到消息：{"type":"startGame","room":{"roomId":"RAB9M0QqrOnMcIL7","role1":"libai","role2":"libai","uid":"7669"}}
关联用户ID 7669 到会话 b6d0664b-a367-7693-4e70-7152c0fedbef
房间 RAB9M0QqrOnMcIL7 已经初始化过游戏，跳过重复初始化
用户 7669 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
用户 1315 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"RoundBegin","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"7669"}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【RoundBegin同步】roomId=RAB9M0QqrOnMcIL7 round=0 已收到玩家 7669 的回合开始信号。当前已收到: [7669]
收到消息：{"type":"RoundBegin","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315"}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【RoundBegin同步】roomId=RAB9M0QqrOnMcIL7 round=0 已收到玩家 1315 的回合开始信号。当前已收到: [1315, 7669]
【RoundBegin同步】roomId=RAB9M0QqrOnMcIL7 round=0 两位玩家均已发信号，调用BeginService。
收到消息：{"type":"openCardGroups","room":{"uid":"7669"}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【购买前】玩家ID: 7669 金币: 5 手牌: []
【购买后】玩家ID: 7669 金币: 0 手牌: [spring(profit,num=1,size=1), moon(decrease,num=1,size=1), fire(battle,num=2,size=1), autumn(decrease,num=1,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"7669","cardA":"fire","cardB":"fire","cardC":"war"}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
收到消息：{"type":"openCardGroups","room":{"uid":"1315"}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【购买前】玩家ID: 1315 金币: 5 手牌: []
【购买后】玩家ID: 1315 金币: 0 手牌: [spring(profit,num=1,size=1), bird(battle,num=1,size=1), autumn(decrease,num=1,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"1315","cardA":"spring","cardB":"water","cardC":"liu"}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 0
玩家1（uid=1315）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[bird(battle,num=1,size=1), liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[spring(profit,num=1,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), autumn(decrease,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"7669","cardList1":["cardBack","cardBack","spring"]}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 0
玩家1（uid=1315）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[bird(battle,num=1,size=1), liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[spring(profit,num=1,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), autumn(decrease,num=1,size=1)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, spring]
[cardBack, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
spring called
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=0, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1)], wealthy=4, statusesEnd=[Status(name=spring_judge, consistTime=1, detail=null)], statusesBegin=[Status(name=spring_judge, consistTime=1, detail=null)], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=true, isRobbedHP=false, isAddedShield=false, isCured=true, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[]
【回合结束后】
Room: RAB9M0QqrOnMcIL7 Round: 0
玩家1（uid=1315）: hp=20/20 shield=10/10 wealthy=0 role=libai cards=[bird(battle,num=1,size=1), liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=4 role=libai cards=[moon(decrease,num=1,size=1), war(battle,num=1,size=2), autumn(decrease,num=1,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"7669"}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【购买前】玩家ID: 7669 金币: 9 手牌: [moon(decrease,num=1,size=1), war(battle,num=1,size=2), autumn(decrease,num=1,size=1)]
【购买后】玩家ID: 7669 金币: 4 手牌: [spring(profit,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), war(battle,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 1
玩家1（uid=1315）: hp=20/20 shield=10/10 wealthy=5 role=libai cards=[bird(battle,num=1,size=1), liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=4 role=libai cards=[spring(profit,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), war(battle,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"7669","cardList1":["bird","cardBack","autumn"]}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 1
玩家1（uid=1315）: hp=20/20 shield=10/10 wealthy=5 role=libai cards=[bird(battle,num=1,size=1), liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=4 role=libai cards=[spring(profit,num=3,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), war(battle,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
handleRoundEndMessage's playerAgainst:
[bird, cardBack, autumn]
[cardBack, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=5, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=3, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=4, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=5, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=3, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=4, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=3, statusesEnd=[Status(name=autumn_judge, consistTime=1, detail=null), Status(name=bird_judge, consistTime=1, detail=null)], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=true, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=3, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=4, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=true, isUsedProfitOrDecreaseCard=true, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[Status(name=autumn_judge, consistTime=1, detail=null), Status(name=bird_judge, consistTime=1, detail=null)]
[]
autumn_judge
bird_judge
【回合结束后】
Room: RAB9M0QqrOnMcIL7 Round: 1
玩家1（uid=1315）: hp=20/20 shield=8/10 wealthy=3 role=libai cards=[liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=4 role=libai cards=[spring(profit,num=3,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), water(defense,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 2
玩家1（uid=1315）: hp=20/20 shield=8/10 wealthy=8 role=libai cards=[liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=9 role=libai cards=[spring(profit,num=3,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), water(defense,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"7669","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 2
玩家1（uid=1315）: hp=20/20 shield=8/10 wealthy=8 role=libai cards=[liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=9 role=libai cards=[spring(profit,num=3,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), water(defense,num=1,size=1)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, cardBack]
[cardBack, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=8, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=3, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=9, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=8, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=3, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=9, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=8, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=3, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=9, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[]
【回合结束后】
Room: RAB9M0QqrOnMcIL7 Round: 2
玩家1（uid=1315）: hp=20/20 shield=8/10 wealthy=8 role=libai cards=[liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=9 role=libai cards=[spring(profit,num=3,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), water(defense,num=1,size=1)]
收到消息：{"type":"fetchall","room":{"roomId":"RAB9M0QqrOnMcIL7"}}
【fetchall】roomId=RAB9M0QqrOnMcIL7 玩家信息: [{uid=1315, hpMax=20, shield=8, role=libai, cards=[CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=13, hp=20, shieldMax=10}, {uid=7669, hpMax=20, shield=10, role=libai, cards=[CardBattle(cardType=profit, cardNum=3, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=14, hp=20, shieldMax=10}]room 信息：Room(uid1=1315, uid2=7669, room=RAB9M0QqrOnMcIL7, roundNum=3)
收到消息：{"type":"synthesize","room":{"uid":"7669","cardA":"spring","cardB":"water","cardC":"liu"}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 3
玩家1（uid=1315）: hp=20/20 shield=8/10 wealthy=13 role=libai cards=[liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=14 role=libai cards=[spring(profit,num=2,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), liu(defense,num=1,size=2)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"7669","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 3
玩家1（uid=1315）: hp=20/20 shield=8/10 wealthy=13 role=libai cards=[liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=14 role=libai cards=[spring(profit,num=2,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), liu(defense,num=1,size=2)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, cardBack]
[cardBack, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=13, statusesEnd=[], statusesBegin=[], role=libai, shield=8, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=2, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=14, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=13, statusesEnd=[], statusesBegin=[], role=libai, shield=8, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=2, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=14, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=decrease, cardNum=1, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=13, statusesEnd=[], statusesBegin=[], role=libai, shield=8, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=2, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=14, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[]
【回合结束后】
Room: RAB9M0QqrOnMcIL7 Round: 3
玩家1（uid=1315）: hp=20/20 shield=8/10 wealthy=13 role=libai cards=[liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=14 role=libai cards=[spring(profit,num=2,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), liu(defense,num=1,size=2)]
收到消息：{"type":"openCardGroups","room":{"uid":"1315"}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【购买前】玩家ID: 1315 金币: 18 手牌: [liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=1,size=1)]
【购买后】玩家ID: 1315 金币: 13 手牌: [spring(profit,num=1,size=1), moon(decrease,num=2,size=1), mountain(defense,num=1,size=1), liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"1315","cardA":"moon","cardB":"moon","cardC":"home"}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
收到消息：{"type":"openCardGroups","room":{"uid":"1315"}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【购买前】玩家ID: 1315 金币: 13 手牌: [spring(profit,num=1,size=1), mountain(defense,num=1,size=1), liu(defense,num=1,size=2), autumn(decrease,num=1,size=1), water(defense,num=2,size=1), home(profit,num=1,size=2)]
【购买后】玩家ID: 1315 金币: 8 手牌: [spring(profit,num=1,size=1), mountain(defense,num=1,size=1), liu(defense,num=1,size=2), fire(battle,num=1,size=1), autumn(decrease,num=4,size=1), water(defense,num=3,size=1), home(profit,num=1,size=2)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"1315","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 1315 到会话 55d3a6c6-25c9-c4c3-93e6-b642f819c127
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 4
玩家1（uid=1315）: hp=20/20 shield=9/10 wealthy=8 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=1,size=1), liu(defense,num=1,size=2), fire(battle,num=1,size=1), autumn(decrease,num=4,size=1), water(defense,num=3,size=1), home(profit,num=1,size=2)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=20 role=libai cards=[spring(profit,num=2,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), liu(defense,num=1,size=2)]
收到消息：{"type":"RoundEnd","room":{"roomId":"RAB9M0QqrOnMcIL7","uid":"7669","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 7669 到会话 a4d02830-e71b-ee42-81aa-352fb8aea923
【回合结束前】
Room: RAB9M0QqrOnMcIL7 Round: 4
玩家1（uid=1315）: hp=20/20 shield=9/10 wealthy=8 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=1,size=1), liu(defense,num=1,size=2), fire(battle,num=1,size=1), autumn(decrease,num=4,size=1), water(defense,num=3,size=1), home(profit,num=1,size=2)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=20 role=libai cards=[spring(profit,num=2,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), liu(defense,num=1,size=2)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, cardBack]
[cardBack, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=mountain, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=4, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=true, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=1, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=2, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=20, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=true, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=1, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=mountain, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=4, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=true, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=1, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=2, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=20, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=true, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=1, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=mountain, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2), CardBattle(cardType=battle, cardNum=1, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=4, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1), CardBattle(cardType=profit, cardNum=1, cardName=home, cardSize=2)], wealthy=8, statusesEnd=[], statusesBegin=[], role=libai, shield=9, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=true, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=1, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=RAB9M0QqrOnMcIL7, cards=[CardBattle(cardType=profit, cardNum=2, cardName=spring, cardSize=1), CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=war, cardSize=2), CardBattle(cardType=defense, cardNum=1, cardName=liu, cardSize=2)], wealthy=20, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=true, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=1, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[]
【回合结束后】
Room: RAB9M0QqrOnMcIL7 Round: 4
玩家1（uid=1315）: hp=20/20 shield=9/10 wealthy=8 role=libai cards=[spring(profit,num=1,size=1), mountain(defense,num=1,size=1), liu(defense,num=1,size=2), fire(battle,num=1,size=1), autumn(decrease,num=4,size=1), water(defense,num=3,size=1), home(profit,num=1,size=2)]
玩家2（uid=7669）: hp=20/20 shield=10/10 wealthy=20 role=libai cards=[spring(profit,num=2,size=1), moon(decrease,num=1,size=1), war(battle,num=1,size=2), liu(defense,num=1,size=2)]
用户 1315 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
用户 7669 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"createRoom","room":{"uid":"8462"}}
关联用户ID 8462 到会话 dfba0443-3661-a24e-ce4d-a76e7282629b
收到消息：{"type":"joinRoom","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"8462"}}
关联用户ID 8462 到会话 dfba0443-3661-a24e-ce4d-a76e7282629b
直接发送房间更新给用户(uid=8462)
广播消息: {"readyToStart":false,"playerCount":1,"uniqueUsers":[8462],"joinedUserId":8462,"isFull":false,"type":"room_update","roomId":"0JtXPDEYDrJwcXtz"}
收到消息：{"type":"joinRoom","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"2436"}}
关联用户ID 2436 到会话 4e4b284b-c4ae-85b4-2bc4-c7499cc69e12
直接发送房间更新给用户(uid=2436)
直接发送房间更新给用户(uid=8462)
广播消息: {"readyToStart":true,"playerCount":2,"uniqueUsers":[2436,8462],"joinedUserId":2436,"isFull":true,"type":"room_update","roomId":"0JtXPDEYDrJwcXtz"}
发送房间已满通知给用户: 2436
收到消息：{"type":"startGame","room":{"roomId":"0JtXPDEYDrJwcXtz","role1":"libai","role2":"libai","uid":"8462"}}
关联用户ID 8462 到会话 dfba0443-3661-a24e-ce4d-a76e7282629b
房间 0JtXPDEYDrJwcXtz 初始化游戏成功，玩家1=8462, 玩家2=2436
收到消息：{"type":"startGame","room":{"roomId":"0JtXPDEYDrJwcXtz","role1":"libai","role2":"libai","uid":"2436"}}
关联用户ID 2436 到会话 4e4b284b-c4ae-85b4-2bc4-c7499cc69e12
房间 0JtXPDEYDrJwcXtz 已经初始化过游戏，跳过重复初始化
用户 8462 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"RoundBegin","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"8462"}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【RoundBegin同步】roomId=0JtXPDEYDrJwcXtz round=0 已收到玩家 8462 的回合开始信号。当前已收到: [8462]
用户 2436 的会话已关闭
WebSocket连接已关闭，当前连接数：1
WebSocket连接已建立，当前连接数：2
收到消息：{"type":"RoundBegin","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"2436"}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【RoundBegin同步】roomId=0JtXPDEYDrJwcXtz round=0 已收到玩家 2436 的回合开始信号。当前已收到: [2436, 8462]
【RoundBegin同步】roomId=0JtXPDEYDrJwcXtz round=0 两位玩家均已发信号，调用BeginService。
收到消息：{"type":"openCardGroups","room":{"uid":"8462"}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【购买前】玩家ID: 8462 金币: 5 手牌: []
【购买后】玩家ID: 8462 金币: 0 手牌: [mountain(defense,num=1,size=1), moon(decrease,num=1,size=1), bird(battle,num=2,size=1), autumn(decrease,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"bird","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 1 手牌: [mountain(defense,num=1,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), autumn(decrease,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"bird","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 2 手牌: [mountain(defense,num=1,size=1), moon(decrease,num=1,size=1), autumn(decrease,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"moon","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 3 手牌: [mountain(defense,num=1,size=1), autumn(decrease,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"mountain","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 4 手牌: [autumn(decrease,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"autumn","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 5 手牌: []
收到消息：{"type":"openCardGroups","room":{"uid":"8462"}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【购买前】玩家ID: 8462 金币: 5 手牌: []
【购买后】玩家ID: 8462 金币: 0 手牌: [spring(profit,num=1,size=1), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"8462","cardA":"water","cardB":"water","cardC":"rain"}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"moon","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 1 手牌: [spring(profit,num=1,size=1), rain(battle,num=1,size=2), bird(battle,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"spring","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 2 手牌: [rain(battle,num=1,size=2), bird(battle,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"8462","card":"bird","money":1}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【弃牌后】玩家ID: 8462 金币: 3 手牌: [rain(battle,num=1,size=2)]
收到消息：{"type":"openCardGroups","room":{"uid":"2436"}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【购买前】玩家ID: 2436 金币: 5 手牌: []
【购买后】玩家ID: 2436 金币: 0 手牌: [spring(profit,num=1,size=1), mountain(defense,num=1,size=1), moon(decrease,num=2,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"moon","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 1 手牌: [spring(profit,num=1,size=1), mountain(defense,num=1,size=1), moon(decrease,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"moon","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 2 手牌: [spring(profit,num=1,size=1), mountain(defense,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"mountain","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 3 手牌: [spring(profit,num=1,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"spring","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 4 手牌: [water(defense,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"8462","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【回合结束前】
Room: 0JtXPDEYDrJwcXtz Round: 0
玩家1（uid=8462）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[rain(battle,num=1,size=2)]
玩家2（uid=2436）: hp=20/20 shield=10/10 wealthy=4 role=libai cards=[water(defense,num=1,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"2436","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【回合结束前】
Room: 0JtXPDEYDrJwcXtz Round: 0
玩家1（uid=8462）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[rain(battle,num=1,size=2)]
玩家2（uid=2436）: hp=20/20 shield=10/10 wealthy=4 role=libai cards=[water(defense,num=1,size=1)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, cardBack]
[cardBack, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=battle, cardNum=1, cardName=rain, cardSize=2)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=4, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=battle, cardNum=1, cardName=rain, cardSize=2)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=4, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=battle, cardNum=1, cardName=rain, cardSize=2)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=4, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[]
【回合结束后】
Room: 0JtXPDEYDrJwcXtz Round: 0
玩家1（uid=8462）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[rain(battle,num=1,size=2)]
玩家2（uid=2436）: hp=20/20 shield=10/10 wealthy=4 role=libai cards=[water(defense,num=1,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"8462"}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【购买前】玩家ID: 8462 金币: 8 手牌: [rain(battle,num=1,size=2)]
【购买后】玩家ID: 8462 金币: 3 手牌: [rain(battle,num=1,size=2), moon(decrease,num=1,size=1), bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=1,size=1)]
收到消息：{"type":"synthesize","room":{"uid":"8462","cardA":"rain","cardB":"rain","cardC":"yellowriver"}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
收到消息：{"type":"openCardGroups","room":{"uid":"2436"}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【购买前】玩家ID: 2436 金币: 9 手牌: [water(defense,num=1,size=1)]
【购买后】玩家ID: 2436 金币: 4 手牌: [spring(profit,num=1,size=1), bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"spring","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 5 手牌: [bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"2436"}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【购买前】玩家ID: 2436 金币: 5 手牌: [bird(battle,num=1,size=1), fire(battle,num=1,size=1), autumn(decrease,num=1,size=1), water(defense,num=2,size=1)]
【购买后】玩家ID: 2436 金币: 0 手牌: [moon(decrease,num=1,size=1), bird(battle,num=2,size=1), fire(battle,num=2,size=1), autumn(decrease,num=3,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"fire","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 1 手牌: [moon(decrease,num=1,size=1), bird(battle,num=2,size=1), fire(battle,num=1,size=1), autumn(decrease,num=3,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"autumn","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 2 手牌: [moon(decrease,num=1,size=1), bird(battle,num=2,size=1), fire(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"fire","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 3 手牌: [moon(decrease,num=1,size=1), bird(battle,num=2,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"bird","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 4 手牌: [moon(decrease,num=1,size=1), bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"fire","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 5 手牌: [moon(decrease,num=1,size=1), bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"moon","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 6 手牌: [bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"bird","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 7 手牌: [autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"bird","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 8 手牌: [autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"2436"}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【购买前】玩家ID: 2436 金币: 8 手牌: [autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
【购买后】玩家ID: 2436 金币: 3 手牌: [spring(profit,num=1,size=1), bird(battle,num=2,size=1), fire(battle,num=1,size=1), autumn(decrease,num=3,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"autumn","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 4 手牌: [spring(profit,num=1,size=1), bird(battle,num=2,size=1), fire(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"fire","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 5 手牌: [spring(profit,num=1,size=1), bird(battle,num=2,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"bird","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 6 手牌: [spring(profit,num=1,size=1), bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"bird","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 7 手牌: [spring(profit,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"discardCard","room":{"uid":"2436","card":"spring","money":1}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【弃牌后】玩家ID: 2436 金币: 8 手牌: [autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
收到消息：{"type":"openCardGroups","room":{"uid":"2436"}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【购买前】玩家ID: 2436 金币: 8 手牌: [autumn(decrease,num=2,size=1), water(defense,num=2,size=1)]
【购买后】玩家ID: 2436 金币: 3 手牌: [spring(profit,num=1,size=1), fire(battle,num=2,size=1), autumn(decrease,num=3,size=1), water(defense,num=3,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"8462","cardList1":["yellowriver","cardBack","cardBack"]}}
关联用户ID 8462 到会话 951d30f5-59e8-e9af-72c1-365204c25a98
【回合结束前】
Room: 0JtXPDEYDrJwcXtz Round: 1
玩家1（uid=8462）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[moon(decrease,num=1,size=1), yellowriver(battle,num=1,size=4), bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=1,size=1)]
玩家2（uid=2436）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[spring(profit,num=1,size=1), fire(battle,num=2,size=1), autumn(decrease,num=3,size=1), water(defense,num=3,size=1)]
收到消息：{"type":"RoundEnd","room":{"roomId":"0JtXPDEYDrJwcXtz","uid":"2436","cardList1":["cardBack","cardBack","cardBack"]}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【回合结束前】
Room: 0JtXPDEYDrJwcXtz Round: 1
玩家1（uid=8462）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[moon(decrease,num=1,size=1), yellowriver(battle,num=1,size=4), bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=1,size=1)]
玩家2（uid=2436）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[spring(profit,num=1,size=1), fire(battle,num=2,size=1), autumn(decrease,num=3,size=1), water(defense,num=3,size=1)]
handleRoundEndMessage's playerAgainst:
[cardBack, cardBack, cardBack]
[yellowriver, cardBack, cardBack]
PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=yellowriver, cardSize=4), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=decrease, cardNum=2, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=battle, cardNum=2, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=3, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
[CardBattle(cardType=battle, cardNum=1, cardName=yellowriver, cardSize=4), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
[CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0), CardBattle(cardType=, cardNum=0, cardName=, cardSize=0)]
卡牌运行前:
Player1:PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=decrease, cardNum=2, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=battle, cardNum=2, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=3, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
卡牌运行后:
Player1:PlayerAgainst(hp=20, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=decrease, cardNum=2, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=3, statusesEnd=[], statusesBegin=[], role=libai, shield=10, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=true, isUsedProfitOrDecreaseCard=false, isRobbedHP=false, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
player2:PlayerAgainst(hp=16, roomNumber=0JtXPDEYDrJwcXtz, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=battle, cardNum=2, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=3, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1)], wealthy=3, statusesEnd=[Status(name=yellowriver, consistTime=1, detail=null)], statusesBegin=[], role=libai, shield=0, hpMax=20, shieldMax=10, playerCondition=PlayerCondition(isAttacked=false, isUsedDefenseCard=false, isUsedBattleCard=false, isUsedProfitOrDecreaseCard=false, isRobbedHP=true, isAddedShield=false, isCured=false, hasZhuangZhiNanChou=false, hasWar=false, hasRain=false, canAddShield=true, liuBuff=false, sunBuff=1, natureBuff=false, numOfShieldAdd=0, fireAdd=0, purification=false), cardsNum=0)
enter endservice
buffs:
[]
[Status(name=yellowriver, consistTime=1, detail=null)]
yellowriver
【回合结束后】
Room: 0JtXPDEYDrJwcXtz Round: 1
玩家1（uid=8462）: hp=20/20 shield=10/10 wealthy=3 role=libai cards=[moon(decrease,num=1,size=1), bird(battle,num=1,size=1), autumn(decrease,num=2,size=1), water(defense,num=1,size=1)]
玩家2（uid=2436）: hp=16/20 shield=0/10 wealthy=3 role=libai cards=[spring(profit,num=1,size=1), fire(battle,num=2,size=1), autumn(decrease,num=3,size=1), water(defense,num=3,size=1)]
收到消息：{"type":"fetchall","room":{"roomId":"0JtXPDEYDrJwcXtz"}}
【fetchall】roomId=0JtXPDEYDrJwcXtz 玩家信息: [{uid=8462, hpMax=20, shield=10, role=libai, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=decrease, cardNum=2, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=8, hp=20, shieldMax=10}, {uid=2436, hpMax=20, shield=0, role=libai, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=battle, cardNum=2, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=3, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1)], wealthy=8, hp=16, shieldMax=10}]room 信息：Room(uid1=8462, uid2=2436, room=0JtXPDEYDrJwcXtz, roundNum=2)
收到消息：{"type":"fetchall","room":{"roomId":"0JtXPDEYDrJwcXtz"}}
【fetchall】roomId=0JtXPDEYDrJwcXtz 玩家信息: [{uid=8462, hpMax=20, shield=10, role=libai, cards=[CardBattle(cardType=decrease, cardNum=1, cardName=moon, cardSize=1), CardBattle(cardType=battle, cardNum=1, cardName=bird, cardSize=1), CardBattle(cardType=decrease, cardNum=2, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=1, cardName=water, cardSize=1)], wealthy=8, hp=20, shieldMax=10}, {uid=2436, hpMax=20, shield=0, role=libai, cards=[CardBattle(cardType=profit, cardNum=1, cardName=spring, cardSize=1), CardBattle(cardType=battle, cardNum=2, cardName=fire, cardSize=1), CardBattle(cardType=decrease, cardNum=3, cardName=autumn, cardSize=1), CardBattle(cardType=defense, cardNum=3, cardName=water, cardSize=1)], wealthy=8, hp=16, shieldMax=10}]room 信息：Room(uid1=8462, uid2=2436, room=0JtXPDEYDrJwcXtz, roundNum=2)
收到消息：{"type":"openCardGroups","room":{"uid":"2436"}}
关联用户ID 2436 到会话 f2f49f92-1fe0-e8a4-50ce-6ae3d66b384f
【购买前】玩家ID: 2436 金币: 8 手牌: [spring(profit,num=1,size=1), fire(battle,num=2,size=1), autumn(decrease,num=3,size=1), water(defense,num=3,size=1)]
【购买后】玩家ID: 2436 金币: 3 手牌: [spring(profit,num=2,size=1), bird(battle,num=2,size=1), fire(battle,num=3,size=1), autumn(decrease,num=3,size=1), water(defense,num=4,size=1)]
2025-07-07T15:21:24.871+08:00  INFO 2620 --- [BG] [ionShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-07T15:21:25.482+08:00  INFO 2620 --- [BG] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
用户 2436 的会话已关闭
WebSocket连接已关闭，当前连接数：1
用户 8462 的会话已关闭
WebSocket连接已关闭，当前连接数：0
